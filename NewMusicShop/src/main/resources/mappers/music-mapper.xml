<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "httpS://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="musicMapper">

  <!-- ✅ resultMap: MUSIC 테이블 ↔ Music VO 매핑 -->
  <resultMap id="musicResultMap" type="com.kh.musicshop.music.vo.Music">
    <id     property="musicNo"     column="MUSIC_NO" />
    <result property="title"       column="TITLE" />
    <result property="artist"      column="ARTIST" />
    <result property="price"       column="PRICE" />
    <result property="samplePath"  column="SAMPLE_PATH" />
    <result property="imagePath"   column="IMAGE_PATH" />
    <result property="isVipItem"   column="IS_VIP_ITEM" />
  </resultMap>

  <!-- ✅ 단일 음악 조회 (VIP 포함 여부도 포함) -->
  <select id="selectMusicById" parameterType="int" resultMap="musicResultMap">
    SELECT 
      MUSIC_NO, 
      TITLE, 
      ARTIST, 
      PRICE, 
      SAMPLE_PATH, 
      IMAGE_PATH, 
      IS_VIP_ITEM
    FROM MUSIC
    WHERE MUSIC_NO = #{musicNo}
  </select>

</mapper>